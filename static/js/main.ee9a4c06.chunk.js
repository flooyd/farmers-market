(window["webpackJsonpfarmers-market"]=window["webpackJsonpfarmers-market"]||[]).push([[0],{11:function(t,e,n){},18:function(t,e,n){t.exports=n(29)},23:function(t,e,n){},29:function(t,e,n){"use strict";n.r(e);var r=n(0),c=n.n(r),o=n(9),a=n.n(o),u=(n(23),n(2)),s=n(3),i=n(5),p=n(4),l=n(6),d=(n(11),[{code:"CH1",name:"Chai",price:3.11},{code:"AP1",name:"Apples",price:6},{code:"CF1",name:"Coffee",price:11.23},{code:"MK1",name:"Milk",price:4.75},{code:"OM1",name:"Oatmeal",price:3.69}]),m=n(8),h=function(t){function e(){return Object(u.a)(this,e),Object(i.a)(this,Object(p.a)(e).apply(this,arguments))}return Object(l.a)(e,t),Object(s.a)(e,[{key:"handleClickButton",value:function(){if(this.props.isInCart)return this.props.dispatch({type:"REMOVE_PRODUCT",product:this.props.product});this.props.dispatch(function(t){return{type:"ADD_PRODUCT",product:t}}(this.props.product))}},{key:"render",value:function(){var t=this;return c.a.createElement("div",{className:"Product",title:this.props.isInCart?"cartProduct":"product"},c.a.createElement("p",null,this.props.product.name),c.a.createElement("p",null,this.props.totalPrice||this.props.product.price),c.a.createElement("button",{title:this.props.isInCart?"cartButton":"button",onClick:function(){t.handleClickButton()}},this.props.isInCart?"Remove from cart":"Add to cart"),this.props.isInCart?c.a.createElement("p",{className:"quantity",title:"quantity"},this.props.quantity):null,this.props.isInCart?c.a.createElement("p",{className:"coupons"},this.props.numCoupons," coupons applied"):null)}}]),e}(r.Component),f=Object(m.b)((function(t){return{products:t.products}}))(h),E=function(t){function e(){return Object(u.a)(this,e),Object(i.a)(this,Object(p.a)(e).apply(this,arguments))}return Object(l.a)(e,t),Object(s.a)(e,[{key:"getProductElements",value:function(){return d.map((function(t,e){return c.a.createElement(f,{product:t,key:"productList".concat(e),isInCart:!1})}))}},{key:"render",value:function(){return c.a.createElement("section",{className:"ProductList"},c.a.createElement("h1",null,"Products"),this.getProductElements())}}]),e}(r.Component),O=function(t){function e(){return Object(u.a)(this,e),Object(i.a)(this,Object(p.a)(e).apply(this,arguments))}return Object(l.a)(e,t),Object(s.a)(e,[{key:"makeProductElement",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return c.a.createElement(f,{product:t,quantity:t.count,numCoupons:r,totalPrice:n.toFixed(2),key:"Cart".concat(e),isInCart:!0})}},{key:"processCouponsAndElements",value:function(t){var e=this,n=this.props.products.find((function(t){return"OM1"===t.code})),r=[];return this.props.products.forEach((function(c,o){var a,u;if("CF1"===c.code&&c.count>=2){var s=c.count;return s%2!==0&&(s-=1),u=s/2,a=e.makeProductElement(c,o,c.price*c.count-s/2*c.price,u),r.push(a),t-=s/2*c.price}if("AP1"===c.code&&n)return c.count>=n.count?(u=n.count,a=e.makeProductElement(c,o,c.price*c.count-n.count*(c.price/2),u),t-=n.count*(c.price/2)):(u=c.count,a=e.makeProductElement(c,o,c.price*c.count-c.count*(c.price/2),u),t-=c.count*(c.price/2)),r.push(a);r.push(e.makeProductElement(c,o,c.count*c.price))})),{productElements:r,total:t.toFixed(2)}}},{key:"processTotal",value:function(){if(this.props.products.length>0){var t=0;this.props.products.forEach((function(e){t+=e.price*e.count}));this.processCouponsAndElements(t);return this.processCouponsAndElements(t)}return{total:0}}},{key:"render",value:function(){var t=this.processTotal(),e=t.productElements,n=t.total;return c.a.createElement("section",{className:"Cart",title:"cart"},c.a.createElement("h1",null,"Cart"),c.a.createElement("p",null,this.props.products.length>0?null:"No items in your cart."),e,c.a.createElement("h2",{className:"total",title:"total"},"Total: ",n))}}]),e}(r.Component),b=Object(m.b)((function(t){return{products:t.products}}))(O),C=function(t){function e(){return Object(u.a)(this,e),Object(i.a)(this,Object(p.a)(e).apply(this,arguments))}return Object(l.a)(e,t),Object(s.a)(e,[{key:"render",value:function(){return c.a.createElement("section",{className:"App"},c.a.createElement("p",{className:"title"},"Farmer's Market"),c.a.createElement(E,null),c.a.createElement(b,null))}}]),e}(r.Component),v=n(10),j=n(17),k={products:[]},y=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"ADD_PRODUCT":var n=t.products.find((function(t){return t.code===e.product.code}));if(n){var r=t.products.map((function(t){return t.code===n.code&&(t.count=t.count+1),t}));return Object.assign({},t,{products:r})}return e.product.count=1,Object.assign({},t,{products:[].concat(Object(j.a)(t.products),[e.product])});case"REMOVE_PRODUCT":var c=!1,o=t.products.map((function(t){return t.code===e.product.code&&(t.count=t.count-1,0===t.count&&(c=!0)),t}));return c?Object.assign({},t,{products:t.products.filter((function(t){return t.code!==e.product.code}))}):Object.assign({},t,{products:o});default:return t}},P=Object(v.b)(y);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a.a.render(c.a.createElement(m.a,{store:P},c.a.createElement(C,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}},[[18,1,2]]]);
//# sourceMappingURL=main.ee9a4c06.chunk.js.map